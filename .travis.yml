sudo: required

dist: trusty

language: node_js

node_js:
  - 7

services:
  - docker

before_install:
  - npm -v
  - node -v
  - docker version
  - docker-compose version
  - npm cache clean

before_script:
  - sudo /etc/init.d/mysql stop
  - sudo /etc/init.d/postgres stop
  - sudo /etc/init.d/cassandra stop
  - docker-compose up
  - docker-compose ps

after_script:
  - docker-compose down

install:
  - npm install

script:
  - npm test
